
 RUN  v4.0.16 /home/kiddulu/Projects/krewup

stdout | __tests__/integration/job-actions.test.ts
[dotenv@17.2.3] injecting env (32) from .env.local -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should create job with hourly pay rate
GoTrueClient@sb-vfjcpxaplapnuwtzvord-auth-token:1 (2.88.0) 2026-01-06T00:45:41.817Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should create job with contract pay rate
GoTrueClient@sb-vfjcpxaplapnuwtzvord-auth-token:2 (2.88.0) 2026-01-06T00:45:42.768Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should validate required fields
GoTrueClient@sb-vfjcpxaplapnuwtzvord-auth-token:3 (2.88.0) 2026-01-06T00:45:43.703Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should store PostGIS coordinates correctly
GoTrueClient@sb-vfjcpxaplapnuwtzvord-auth-token:4 (2.88.0) 2026-01-06T00:45:44.952Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should get jobs with filters
GoTrueClient@sb-vfjcpxaplapnuwtzvord-auth-token:5 (2.88.0) 2026-01-06T00:45:47.046Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should get jobs with filters
Get jobs error: {
  message: 'TypeError: cookieStore.getAll is not a function',
  details: 'TypeError: cookieStore.getAll is not a function\n' +
    '    at Object.getAll (/home/kiddulu/Projects/krewup/lib/supabase/server.ts:45:30)\n' +
    '    at getAll (/home/kiddulu/Projects/krewup/node_modules/@supabase/ssr/dist/main/cookies.js:73:48)\n' +
    '    at Object.getItem (/home/kiddulu/Projects/krewup/node_modules/@supabase/ssr/dist/main/cookies.js:240:42)\n' +
    '    at getItemAsync (/home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33)\n' +
    '    at SupabaseAuthClient.__loadSession (/home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67)\n' +
    '    at SupabaseAuthClient._useSession (/home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39)\n' +
    '    at /home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1088:25\n' +
    '    at /home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:103:5)',
  hint: '',
  code: ''
}

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should calculate distance from user location
GoTrueClient@sb-vfjcpxaplapnuwtzvord-auth-token:6 (2.88.0) 2026-01-06T00:45:48.083Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

stderr | __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should calculate distance from user location
Get jobs error: {
  message: 'TypeError: cookieStore.getAll is not a function',
  details: 'TypeError: cookieStore.getAll is not a function\n' +
    '    at Object.getAll (/home/kiddulu/Projects/krewup/lib/supabase/server.ts:45:30)\n' +
    '    at getAll (/home/kiddulu/Projects/krewup/node_modules/@supabase/ssr/dist/main/cookies.js:73:48)\n' +
    '    at Object.getItem (/home/kiddulu/Projects/krewup/node_modules/@supabase/ssr/dist/main/cookies.js:240:42)\n' +
    '    at getItemAsync (/home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33)\n' +
    '    at SupabaseAuthClient.__loadSession (/home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67)\n' +
    '    at SupabaseAuthClient._useSession (/home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39)\n' +
    '    at /home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1088:25\n' +
    '    at /home/kiddulu/Projects/krewup/node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:103:5)',
  hint: '',
  code: ''
}

 â¯ __tests__/integration/job-actions.test.ts (10 tests | 9 failed) 10236ms
       Ã— should create job with hourly pay rate 920ms
       Ã— should create job with contract pay rate 933ms
       âœ“ should validate required fields  946ms
       Ã— should store PostGIS coordinates correctly 1232ms
       Ã— should get job by id 1122ms
       Ã— should get jobs with filters 997ms
       Ã— should calculate distance from user location 1033ms
       Ã— should update job successfully 955ms
       Ã— should prevent unauthorized job updates 1012ms
       Ã— should delete job successfully 1085ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should create job with hourly pay rate
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ __tests__/integration/job-actions.test.ts:88:30
     86|       });
     87| 
     88|       expect(result.success).toBe(true);
       |                              ^
     89|       expect(result.data?.id).toBeTruthy();
     90| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should create job with contract pay rate
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ __tests__/integration/job-actions.test.ts:113:30
    111|       });
    112| 
    113|       expect(result.success).toBe(true);
       |                              ^
    114| 
    115|       const { data } = await testDb

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Creation > should store PostGIS coordinates correctly
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ __tests__/integration/job-actions.test.ts:150:30
    148|       });
    149| 
    150|       expect(result.success).toBe(true);
       |                              ^
    151| 
    152|       const { data } = await testDb

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should get job by id
TypeError: Cannot read properties of null (reading 'id')
 â¯ __tests__/integration/job-actions.test.ts:182:40
    180|         .single();
    181| 
    182|       const result = await getJob(job!.id);
       |                                        ^
    183| 
    184|       expect(result.success).toBe(true);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should get jobs with filters
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ __tests__/integration/job-actions.test.ts:218:30
    216|       });
    217| 
    218|       expect(result.success).toBe(true);
       |                              ^
    219|       expect(result.data?.length).toBeGreaterThan(0);
    220|       expect(result.data?.every((job) => job.trades.includes('Carpenteâ€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Retrieval > should calculate distance from user location
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 â¯ __tests__/integration/job-actions.test.ts:240:30
    238|       });
    239| 
    240|       expect(result.success).toBe(true);
       |                              ^
    241|       // Distance should be very small (< 1 mile)
    242|       if (result.data && result.data.length > 0) {

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Update > should update job successfully
TypeError: Cannot read properties of null (reading 'id')
 â¯ __tests__/integration/job-actions.test.ts:266:43
    264|         .single();
    265| 
    266|       const result = await updateJob(job!.id, {
       |                                           ^
    267|         title: 'Updated Title',
    268|         description: 'Updated description',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Update > should prevent unauthorized job updates
AssertionError: expected undefined to be truthy

- Expected: 
true

+ Received: 
undefined

 â¯ __tests__/integration/job-actions.test.ts:306:23
    304|       // This would need proper auth context setup
    305|       // For now, just verify the job exists
    306|       expect(job?.id).toBeTruthy();
       |                       ^
    307|     });
    308|   });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/9]â¯

 FAIL  __tests__/integration/job-actions.test.ts > Job Server Actions Integration Tests > Job Deletion > should delete job successfully
TypeError: Cannot read properties of null (reading 'id')
 â¯ __tests__/integration/job-actions.test.ts:328:43
    326|         .single();
    327| 
    328|       const result = await deleteJob(job!.id);
       |                                           ^
    329| 
    330|       expect(result.success).toBe(true);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/9]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 12 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1122:36
 â¯ SupabaseAuthClient.lockNoOp [as lock] node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:30:18

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should create job with hourly pay rate". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34
 â¯ processTicksAndRejections node:internal/process/task_queues:103:5

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should create job with hourly pay rate". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1122:36
 â¯ SupabaseAuthClient.lockNoOp [as lock] node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:30:18

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should create job with contract pay rate". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34
 â¯ processTicksAndRejections node:internal/process/task_queues:103:5

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should create job with contract pay rate". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1122:36
 â¯ SupabaseAuthClient.lockNoOp [as lock] node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:30:18

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should validate required fields". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34
 â¯ processTicksAndRejections node:internal/process/task_queues:103:5

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should validate required fields". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1122:36
 â¯ SupabaseAuthClient.lockNoOp [as lock] node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:30:18

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should store PostGIS coordinates correctly". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34
 â¯ processTicksAndRejections node:internal/process/task_queues:103:5

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should store PostGIS coordinates correctly". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1122:36
 â¯ SupabaseAuthClient.lockNoOp [as lock] node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:30:18

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should get jobs with filters". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34
 â¯ processTicksAndRejections node:internal/process/task_queues:103:5

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should get jobs with filters". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1122:36
 â¯ SupabaseAuthClient.lockNoOp [as lock] node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:30:18

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should calculate distance from user location". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
TypeError: cookieStore.getAll is not a function
 â¯ Object.getAll lib/supabase/server.ts:45:30
     43|       cookies: {
     44|         getAll() {
     45|           return cookieStore.getAll();
       |                              ^
     46|         },
     47|         setAll(cookiesToSet) {
 â¯ getAll node_modules/@supabase/ssr/dist/main/cookies.js:73:48
 â¯ Object.getItem node_modules/@supabase/ssr/dist/main/cookies.js:240:42
 â¯ getItemAsync node_modules/@supabase/auth-js/dist/main/lib/helpers.js:129:33
 â¯ SupabaseAuthClient.__loadSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1179:67
 â¯ SupabaseAuthClient._useSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1160:39
 â¯ SupabaseAuthClient._emitInitialSession node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1619:27
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1613:22
 â¯ node_modules/@supabase/auth-js/dist/main/GoTrueClient.js:1106:34
 â¯ processTicksAndRejections node:internal/process/task_queues:103:5

This error originated in "__tests__/integration/job-actions.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should calculate distance from user location". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  1 failed (1)
      Tests  9 failed | 1 passed (10)
     Errors  12 errors
   Start at  16:45:40
   Duration  10.90s (transform 61ms, setup 89ms, import 223ms, tests 10.24s, environment 281ms)

